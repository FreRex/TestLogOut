<ion-card class="ion-margin-vertical card-inside">
  <ion-card-header>
    <ion-card-title color="primary">Modifica Progetto</ion-card-title>

  </ion-card-header>
  <ion-card-content>
    <form [formGroup]="form">
      <ion-grid>
        <ion-row>
          <ion-col size-md="8" offset-md="2">

          <ion-item>
            <ion-label color="primary" position="floating">Collaudatore</ion-label>
            <ion-input type="text" (click)="projListOpen()" interface="action-sheet"
            formControlName="collaudatoreufficio" (ionInput)="searchStream$.next($event.target.value)">
            <ion-button fill="clear" slot="end" class="ion-align-self-center" (click)="toggleDropdown() ">
              <ion-icon [name]="isListOpen ? 'close' : 'chevron-down-outline'" slot="icon-only" ></ion-icon>
            </ion-button>
            </ion-input>
          </ion-item>



<!--             <ion-item>
              <ion-label position="floating" class="ion-margin">
                <h6>Località</h6>
              </ion-label>
              <ion-input type="text" formControlName="nome">
                <h6></h6>
              </ion-input>
            </ion-item> -->

          
          <ion-row class="dropdown" *ngIf="users$ | async as users">
            <ion-col id="myDropdown" class="dropdown-content">
              <ion-list class="ion-no-padding" *ngFor="let user of users">
                <ion-item button="true" lines="none" (click)="onChooseUser(user)">
                  <ion-icon name="chevron-forward-outline" slot="start" class="ion-align-self-center"></ion-icon>
                  <ion-label>
                    <p>{{user.collaudatoreufficio}}</p>
                  </ion-label>
                </ion-item>
              </ion-list>
            </ion-col>
          </ion-row>



    <ion-item>
      <ion-label position="floating" class="ion-margin">
        <h6>Località</h6>
      </ion-label>
      <ion-input type="text" formControlName="nome">
        <h6></h6>
      </ion-input>
    </ion-item>

<!--     <ion-item>
      <ion-label position="floating" class="ion-margin">
        <h6>Connessione OPTA-Civici</h6>
      </ion-label>
      <ion-input type="text" formControlName="conn_edif_opta">
        <h6></h6>
      </ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating" class="ion-margin">
        <h6>Nodi Fisici</h6>
      </ion-label>
      <ion-input type="text" formControlName="nodi_fisici">
        <h6></h6>
      </ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating" class="ion-margin">
        <h6>Nodi Ottici</h6>
      </ion-label>
      <ion-input type="text" formControlName="nodi_ottici">
        <h6></h6>
      </ion-input>
    </ion-item>

    <ion-item>
      <ion-label position="floating" class="ion-margin">
        <h6>Tratte</h6>
      </ion-label>
      <ion-input type="text" formControlName="tratte">
        <h6></h6>
      </ion-input>
    </ion-item> -->

            <ion-item>
              <ion-label position="floating" class="ion-margin">
                <h6>Coordinate</h6>
              </ion-label>
              <ion-input type="text" formControlName="coordinate">
                <h6></h6>
              </ion-input>
            </ion-item>

            <!--     <ion-item>
      <ion-label position="floating" class="ion-margin">
        <h6>Longitudine</h6>
      </ion-label>
      <ion-input type="text" formControlName="long_centro_map">
        <h6></h6>
      </ion-input>
    </ion-item> -->

            <ion-item>
              <ion-label position="stacked" class="ion-margin">
                <h6>PK Project</h6>
              </ion-label>
              <ion-input disabled="true" type="text">
                <h6>{{project.pk_proj}}</h6>
              </ion-input>
            </ion-item>

          </ion-col>
        </ion-row>
      </ion-grid>
      <div class="ion-margin-vertical ion-text-right ">
        <ion-button shape="round" color="primary" (click)="closeModal()">
          <ion-icon slot="start" name="close-outline" color="danger"></ion-icon>ANNULLA
        </ion-button>
        <ion-button shape="round" color="primary" (click)="updateProject()">
          <ion-icon slot="start" name="pencil-outline" color="success"></ion-icon>MODIFICA
        </ion-button>
      </div>
    </form>
  </ion-card-content>
</ion-card>
