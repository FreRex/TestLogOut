<div class="spazio-vuoto-dimensione-fissa">
  <span *ngIf="this.streamingService.streamingUser" class="label">
    <ion-text *ngIf="this.streamingService.streamingUser.idutente == user.idutcas">
      stai trasmettendo
      <ion-icon name="ellipse" color="primary"></ion-icon>
    </ion-text>
    <ion-text *ngIf="this.streamingService.streamingUser.idutente != user.idutcas">
      {{ this.streamingService.streamingUser.nome }}
    </ion-text>
  </span>
  <div class="video-container">
    <div
      [hidden]="this.streamingService.isStreaming || this.streamingService.isPlaying"
    >
      <img src="assets/icons/mockup-icons/wait.svg" />
    </div>
    <video
      id="localVideo"
      class="videoElementBase"
      [hidden]="!this.streamingService.isStreaming"
      #localVideo
      [autoplay]="true"
      [muted]="true"
    ></video>
    <video
      id="remoteVideo"
      class="videoElementBase"
      [hidden]="!this.streamingService.isPlaying"
      #remoteVideo
      [autoplay]="true"
      [muted]="true"
      playsinline
    ></video>
  </div>
  <div class="gray-bar">
    <div class="btnCommand">
      <ion-button
        class="btn-trasparent"
        (click)="this.streamingService.toggleStreaming(user.idutcas, cameraSide)"
      >
        <ion-icon
          *ngIf="this.streamingService.isStreaming"
          slot="icon-only"
          src="assets/icons/mockup-icons/cam-on.svg"
        ></ion-icon>
        <ion-icon
          *ngIf="!this.streamingService.isStreaming"
          slot="icon-only"
          src="assets/icons/mockup-icons/cam-off.svg"
        ></ion-icon>
      </ion-button>
      <ion-button
        class="btn-trasparent"
        (click)="this.audioService.toggleAudio(room.id, user.idutcas)"
      >
        <ion-icon
          *ngIf="this.audioService.isJoined"
          slot="icon-only"
          name="volume-high-sharp"
        ></ion-icon>
        <ion-icon
          *ngIf="!this.audioService.isJoined"
          slot="icon-only"
          name="volume-mute-sharp"
        ></ion-icon>
      </ion-button>
      <ion-button class="btn-trasparent" (click)="this.audioService.toggleMic()">
        <ion-icon
          *ngIf="this.audioService.isMicOn"
          slot="icon-only"
          name="mic"
        ></ion-icon>
        <ion-icon
          *ngIf="!this.audioService.isMicOn"
          slot="icon-only"
          name="mic-off"
        ></ion-icon>
      </ion-button>
    </div>
    <div class="dots">
      <ion-button class="btn-trasparent">
        <ion-icon
          slot="icon-only"
          src="assets/icons/mockup-icons/dots.svg"
        ></ion-icon>
      </ion-button>
    </div>
    <div>
      <ion-button class="btn-trasparent">
        <ion-icon
          slot="icon-only"
          src="assets/icons/mockup-icons/expand.svg"
        ></ion-icon>
      </ion-button>
    </div>
  </div>
  <!-- BOTTONI VIDEO -->
  <div class="white-bar">
    <div>
      <ion-button color="secondary" class="btn-trasparent">
        <ion-icon
          slot="icon-only"
          src="assets/icons/mockup-icons/smart-glasses.svg"
        ></ion-icon>
      </ion-button>
      <ion-button
        class="btn-trasparent"
        [disabled]="
          !this.streamingService.isStreaming && !this.streamingService.isPlaying
        "
        (click)="this.capturePhoto(this.streamingService.isStreaming)"
      >
        <ion-icon
          slot="icon-only"
          src="assets/icons/mockup-icons/aperture.svg"
        ></ion-icon>
      </ion-button>
    </div>
    <ion-button color="danger" class="btn-trasparent">
      <ion-icon
        slot="icon-only"
        src="assets/icons/mockup-icons/termina-call.svg"
      ></ion-icon>
    </ion-button>
  </div>
</div>
